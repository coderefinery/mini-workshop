<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CodeRefinery mini-workshop documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx_lesson.css" />
      <link rel="stylesheet" type="text/css" href="_static/term_role_formatting.css" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx_rtd_theme_ext_color_contrast.css" />
      <link rel="stylesheet" type="text/css" href="_static/style.css" />
      <link rel="stylesheet" type="text/css" href="_static/tabs.css" />

  
    <link rel="shortcut icon" href="_static/coderefinery.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script src="_static/minipres.js"></script>
        <script src="_static/tabs.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script data-domain="coderefinery.github.io" defer="defer" src="https://plausible.cs.aalto.fi/js/script.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            CodeRefinery mini-workshop
          </a>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Session 1: Tracking changes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-1/motivation">Motivation for version control</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-1/browse">Copy and browse an existing project</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-1/code-review">Collaboration and code review using issues and pull requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-1/sharing">How to turn your project to a Git repo and share it</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Session 2: Usability</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-2/documentation">Code documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-2/testing">Automated testing: from unit tests to end-to-end tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-2/structure">How to structure the code as it grows</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Session 3: Sharing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-3/reproducibility">Reproducible dependencies, environments, and workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-3/software-licensing">Choosing a software license</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-3/publishing">How to publish your code</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-guide">Guide for instructors and contributors</a></li>
<li class="toctree-l1"><a class="reference external" href="https://coderefinery.org/lessons/core/">All lessons</a></li>
<li class="toctree-l1"><a class="reference external" href="https://coderefinery.org/">CodeRefinery</a></li>
<li class="toctree-l1"><a class="reference external" href="https://coderefinery.org/lessons/reusing/">Reusing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">CodeRefinery mini-workshop</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">CodeRefinery mini-workshop  documentation</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/coderefinery/mini-workshop/blob/main/content/index" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="coderefinery-mini-workshop">
<h1>CodeRefinery mini-workshop<a class="headerlink" href="#coderefinery-mini-workshop" title="Link to this heading"></a></h1>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="_images/astronaut.jpg"><img alt="Series of images which come out of the image processing pipeline" src="_images/astronaut.jpg" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">We will together create a simple image processing pipeline that is
reproducible, reusable, extensible, documented, and tested.  Celebrating
<a class="reference external" href="https://en.wikipedia.org/wiki/Eileen_Collins">Eileen Collins</a>, the first woman
to pilot the Space Shuttle and the first to command a Space Shuttle mission.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>Example project: <a class="reference external" href="https://github.com/coderefinery/imgfilters">https://github.com/coderefinery/imgfilters</a></p></li>
<li><p>Inspiration for this example: <a class="reference external" href="https://scikit-image.org/docs/stable/auto_examples/index.html">scikit-image</a></p></li>
<li><p>This is a mini-version of the <a class="reference external" href="https://coderefinery.org/">CodeRefinery workshop</a> (6 half-days) which we teach twice a year.</p></li>
</ul>
<section id="goals-of-this-workshop">
<h2>Goals of this workshop<a class="headerlink" href="#goals-of-this-workshop" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>We will together create a simple image processing pipeline that is reproducible, reusable, extensible, documented, and tested.</p></li>
<li><p>We will start with something relatively simple and gradually add the missing pieces: all the way towards making it publishable.</p></li>
<li><p>We will use a Python example but we will not need Python experience to follow and not
focus on Python programming but rather on software development practices.</p></li>
</ul>
<p>We will explore these in 3 sessions:</p>
<ul class="simple">
<li><p>Session 1: <strong>Reproducible code changes</strong>. Keep track of code changes and learn how we can collaborate on code using Git and GitHub.</p></li>
<li><p>Session 2: Add <strong>code documentation</strong> and <strong>testing</strong>. Improve <strong>structure</strong>.</p></li>
<li><p>Session 3: Document <strong>dependencies</strong> and prepare the code to be <strong>shared</strong>, reused, and published.</p></li>
</ul>
<div class="admonition-learner-personas discussion important admonition" id="discussion-0">
<p class="admonition-title">Learner personas</p>
<ul class="simple">
<li><p>You write code for their own research: alone or in a small collaboration.</p></li>
<li><p>You want to be able to contribute to open-source projects.</p></li>
<li><p>You do data analysis and use (import) code written by others in a Jupyter Notebook (or similar) or a script.</p></li>
<li><p>You neither write not use code but you want to better understand how
reproducible research software is created and what matters to make it
reusable.</p></li>
</ul>
</div>
<div class="admonition-preparation prerequisites admonition" id="prerequisites-0">
<p class="admonition-title">Preparation</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com">GitHub</a> account if you want to actively participate.</p></li>
<li><p>Enable <a class="reference external" href="https://github.blog/changelog/2023-03-01-feature-preview-rich-jupyter-notebook-diffs/">Rich Jupyter Notebook
Diffs</a>
on GitHub for a better code review experience when changing Jupyter
Notebooks (click on your avatar top-right on GitHub, then “Feature preview”).</p></li>
</ul>
</div>
<hr class="docutils" />
<div class="toctree-wrapper compound">
<span id="document-1/motivation"></span><section id="motivation-for-version-control">
<h3>Motivation for version control<a class="headerlink" href="#motivation-for-version-control" title="Link to this heading"></a></h3>
<section id="git-is-all-about-keeping-track-of-changes">
<h4>Git is all about keeping track of changes<a class="headerlink" href="#git-is-all-about-keeping-track-of-changes" title="Link to this heading"></a></h4>
<p>Below are screenshots of <strong>tracked changes with Git</strong>
(from our <a class="reference external" href="https://github.com/coderefinery/imgfilters/commits/main/">example repository</a>):</p>
<figure class="align-default" id="id1">
<a class="with-border reference internal image-reference" href="_images/git-log-github.png"><img alt="Screenshot of a git log on GitHub" class="with-border" src="_images/git-log-github.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">Web browser, GitHub view</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="_images/git-log-terminal.png"><img alt="Screenshot of a git log in terminal" src="_images/git-log-terminal.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">The same as above, but the terminal view</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition-discussion discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion</p>
<ul class="simple">
<li><p>Commits are like snapshots of the repository at a certain point in time.</p></li>
<li><p>Commits carry metadata about changes: author, date, commit message, and a checksum.</p></li>
</ul>
</div>
</section>
<section id="why-do-we-need-to-keep-track-of-versions">
<h4>Why do we need to keep track of versions?<a class="headerlink" href="#why-do-we-need-to-keep-track-of-versions" title="Link to this heading"></a></h4>
<p>Version control is an answer to the following questions (do you recognize some
of them?):</p>
<ul class="simple">
<li><p>“It broke … hopefully I have a working version somewhere?”</p></li>
<li><p>“Can you please send me the latest version?”</p></li>
<li><p>“Where is the latest version?”</p></li>
<li><p>“Which version are you using?”</p></li>
<li><p>“Which version have the authors used in the paper I am trying to reproduce?”</p></li>
<li><p>“Found a bug! Since when was it there?”</p></li>
<li><p>“I am sure it used to work. When did it change?”</p></li>
<li><p>“My laptop is gone. Is my thesis now gone?”</p></li>
</ul>
</section>
<section id="features-roll-back-branching-merging-collaboration">
<h4>Features: roll-back, branching, merging, collaboration<a class="headerlink" href="#features-roll-back-branching-merging-collaboration" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Roll-back</strong>: you can always go back to a previous version and compare</p></li>
<li><p><strong>Branching and merging</strong>:</p>
<ul>
<li><p>Work on different ideas at the same time</p></li>
<li><p>Different people can work on the same code/project without interfering</p></li>
<li><p>You can experiment with an idea and discard it if it turns out to be a bad idea</p></li>
</ul>
</li>
</ul>
<figure class="align-default" id="id3">
<a class="reference internal image-reference" href="_images/gophers.png"><img alt="Branching explained with a gopher" src="_images/gophers.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Image created using <a class="reference external" href="https://gopherize.me/">https://gopherize.me/</a>
(<a class="reference external" href="https://twitter.com/jay_gee/status/703360688618536960">inspiration</a>).</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p><strong>Collaboration</strong>: review, compare, share, discuss</p></li>
<li><p><a class="reference external" href="https://github.com/coderefinery/imgfilters/network">Example network graph</a></p></li>
</ul>
</section>
<section id="reproducibility">
<h4>Reproducibility<a class="headerlink" href="#reproducibility" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Someone asks you about your results from 5 years ago. Can
you get the same results now?</strong></p></li>
<li><p>How do you indicate which version of your code you have used in your paper?</p></li>
<li><p>When you find a bug, how do you know <strong>when precisely</strong> this bug was introduced
(Are published results affected? Do you need to inform collaborators or users of your code?).</p></li>
</ul>
<p>With version control we can “annotate” code
(<a class="reference external" href="https://github.com/networkx/networkx/blame/main/networkx/algorithms/boundary.py">browse this example online</a>):</p>
<figure class="align-default" id="id4">
<a class="with-border reference internal image-reference" href="_images/git-annotate.png"><img alt="Example of a git-annotated code with code and history side-by-side" class="with-border" src="_images/git-annotate.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Example of a git-annotated code with code and history side-by-side.</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="talking-about-code">
<h4>Talking about code<a class="headerlink" href="#talking-about-code" title="Link to this heading"></a></h4>
<p><strong>You want to show someone a few lines from one of your projects.</strong> Which of
these two is more practical?</p>
<ul class="simple">
<li><p>“Clone the code, go to the file ‘src/util.rs’, and search for ‘time_iso8601’”.
Oh! But make sure you use the version from August 2023.”</p></li>
<li><p>Or I can send you a <a class="reference external" href="https://github.com/NordicHPC/sonar/blob/75daafc86582feb06299d6a47c82112f39888152/src/util.rs#L40-L44">permalink</a>:</p></li>
</ul>
<figure class="align-default" id="id5">
<a class="with-border reference internal image-reference" href="_images/code-portion.png"><img alt="Screen-shot of a code portion" class="with-border" src="_images/code-portion.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Permalink that points to a code portion.</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="what-we-typically-like-to-snapshot">
<h4>What we typically like to snapshot<a class="headerlink" href="#what-we-typically-like-to-snapshot" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Software (this is how it started but Git/GitHub can track a lot more)</p></li>
<li><p>Scripts</p></li>
<li><p>Notebooks</p></li>
<li><p>Documents (plain text files much better suitable than Word documents)</p></li>
<li><p>Manuscripts (Git is great for collaborating/sharing LaTeX or <a class="reference external" href="https://quarto.org/">Quarto</a> manuscripts)</p></li>
<li><p>Configuration files</p></li>
<li><p>Website sources</p></li>
<li><p>Data</p></li>
</ul>
</section>
</section>
<span id="document-1/browse"></span><section id="copy-and-browse-an-existing-project">
<h3>Copy and browse an existing project<a class="headerlink" href="#copy-and-browse-an-existing-project" title="Link to this heading"></a></h3>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>We will fork the <a class="reference external" href="https://github.com/coderefinery/imgfilters">example project</a>.</p></li>
<li><p>We will find a point in history when a code default changed (using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">annotate</span></code>).</p></li>
<li><p>We will create a branch and a commit with a new file added to <code class="docutils literal notranslate"><span class="pre">exercise</span></code>
directory.</p></li>
</ul>
</div>
<section id="repositories-and-branches">
<h4>Repositories and branches<a class="headerlink" href="#repositories-and-branches" title="Link to this heading"></a></h4>
<p>What is a <strong>Git repository</strong>?</p>
<ul class="simple">
<li><p>Git repository contains a bunch of files and tracks their changes over time.</p></li>
<li><p>Git repositories typically reside on GitHub or GitLab or on your computer or on some server.</p></li>
<li><p>Git repositories track changes using commits.</p></li>
</ul>
<p>What are <strong>branches</strong>?</p>
<ul class="simple">
<li><p>Commits form a history of changes and the history can be visualized as a tree which contains branches.</p></li>
<li><p>Each repository has a default branch. It is often called <code class="docutils literal notranslate"><span class="pre">main</span></code> or <code class="docutils literal notranslate"><span class="pre">master</span></code>.</p></li>
<li><p>Branches are like parallel universes where you can experiment with changes without affecting the default branch.</p></li>
<li><p>Browse the network of branches in our example repository
(“Insights” -&gt; “Network”): <a class="reference external" href="https://github.com/coderefinery/imgfilters/network">https://github.com/coderefinery/imgfilters/network</a></p></li>
</ul>
</section>
<section id="annotated-history">
<h4>Annotated history<a class="headerlink" href="#annotated-history" title="Link to this heading"></a></h4>
<div class="admonition-let-us-try-the-annotation-feature-git-blame exercise important admonition" id="exercise-0">
<p class="admonition-title">Let us try the annotation feature (“git blame”)</p>
<ul class="simple">
<li><p>The function <a class="reference external" href="https://github.com/coderefinery/imgfilters/blob/8aefed153328230092df31775dcd2388721bb862/imgfilters/filters.py#L16-L22">gaussian_smoothing</a> has a default value for sigma. But this default used to be different.</p></li>
<li><p>Find out <strong>when</strong> this default value was changed (which commit).</p></li>
<li><p>Would you be able to do this archaeology work with your project?</p></li>
<li><p>Is the commit message informative about <strong>why</strong> this was changed?</p></li>
</ul>
</div>
</section>
<section id="what-is-a-fork-let-s-create-and-browse-it">
<h4>What is a fork? Let’s create and browse it!<a class="headerlink" href="#what-is-a-fork-let-s-create-and-browse-it" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>A fork is a full copy of a repository.</p></li>
<li><p>You have then write permissions to your copy.</p></li>
<li><p>Once a fork is created, you decide when to sync changes from the original
repository - it does not happen automatically.</p></li>
</ul>
<figure class="align-default" id="id1">
<a class="with-border reference internal image-reference" href="_images/create-fork.png"><img alt="Creating a fork on GitHub" class="with-border" src="_images/create-fork.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Creating a fork on GitHub</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id2">
<a class="with-border reference internal image-reference" href="_images/verify-fork.png"><img alt="Verify that you are on your fork" class="with-border" src="_images/verify-fork.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Verify that you are on your fork</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="exercise-demo-creating-a-new-branch-and-a-new-commit">
<h4>Exercise/demo: creating a new branch and a new commit<a class="headerlink" href="#exercise-demo-creating-a-new-branch-and-a-new-commit" title="Link to this heading"></a></h4>
<p>You can try this or you watch the instructor doing it.</p>
<div class="admonition-creating-a-new-branch-and-a-new-commit exercise important admonition" id="exercise-1">
<p class="admonition-title">Creating a new branch and a new commit</p>
<ul class="simple">
<li><p>Create a new branch in your fork and give it a descriptive name.</p></li>
<li><p>Add a new file in the <code class="docutils literal notranslate"><span class="pre">exercise</span></code> directory to the new branch.</p></li>
<li><p>In this file we will try to answer: “What do you know now about programming
that you wish you knew when you started?”.</p></li>
<li><p>The new branch and new file now only exist on the fork, not yet in the
original repository.</p></li>
</ul>
</div>
</section>
<section id="how-does-this-relate-to-your-own-work">
<h4>How does this relate to your own work?<a class="headerlink" href="#how-does-this-relate-to-your-own-work" title="Link to this heading"></a></h4>
<div class="admonition-summary admonition">
<p class="admonition-title">Summary</p>
<ul class="simple">
<li><p>Forking is useful if you want to modify a repository that you do not have
write access to or if you want to allow others to experiment with your
repository.</p></li>
<li><p>Within your research project you probably want to give all project members
write access and then you can work within the same repository.</p></li>
<li><p>If you are more than 1 person working on a project, it can be useful
to make the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch protected and to always create a new branch for each
new feature or bug-fix or idea.</p></li>
<li><p>In the next episode (<a class="reference internal" href="index.html#code-review"><span class="std std-ref">Collaboration and code review using issues and pull requests</span></a>) we will discuss how to suggest
changes from a fork or within the same repository.</p></li>
</ul>
</div>
</section>
<section id="more-resources">
<h4>More resources<a class="headerlink" href="#more-resources" title="Link to this heading"></a></h4>
<p>In this short workshop we focus on <strong>what is possible</strong> and <strong>what are good
practices</strong> but we cannot focus on <strong>how to do these in detail</strong>
across the many user interfaces (GitHub web, GitLab web, command line, VS Code, other editors).</p>
<ul class="simple">
<li><p>Here we go through those in detail: <a class="reference external" href="https://coderefinery.github.io/git-intro/">Introduction to version control with Git</a></p></li>
</ul>
</section>
</section>
<span id="document-1/code-review"></span><section id="collaboration-and-code-review-using-issues-and-pull-requests">
<span id="code-review"></span><h3>Collaboration and code review using issues and pull requests<a class="headerlink" href="#collaboration-and-code-review-using-issues-and-pull-requests" title="Link to this heading"></a></h3>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Using issues as a way to discuss and plan work.</p></li>
<li><p>Using pull requests as a way to review and discuss code changes.</p></li>
</ul>
</div>
<section id="what-is-a-pull-request-github-or-merge-request-gitlab">
<h4>What is a pull request (GitHub) or merge request (GitLab)?<a class="headerlink" href="#what-is-a-pull-request-github-or-merge-request-gitlab" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Think of merge requests as <strong>change proposals</strong>.</p></li>
<li><p>Conceptually, they are similar to “suggesting changes” in Google Docs:
They can be commented on and accepted (merged).</p></li>
</ul>
</section>
<section id="five-nice-things-about-pull-requests-which-are-often-misunderstood">
<h4>🌻 Five nice things about pull requests which are often misunderstood<a class="headerlink" href="#five-nice-things-about-pull-requests-which-are-often-misunderstood" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p><strong>Issues don’t have to be only about bugs</strong>: Open one to share an idea
before you start coding and collect feedback. Later cross-reference the issue
in the pull request.</p></li>
<li><p><strong>Reviewing code is mainly for <strike>quality assurance</strike>
collaborative learning</strong>: It is mainly for knowledge transfer. Two persons
know about a change instead of one. Both have a chance to learn something
new.</p></li>
<li><p><strong>Modifying an open pull request</strong> does not require closing and opening a
new one. Pull requests are from a source branch to a target branch. You can
add new commits to the source branch and the pull request will be updated
automatically. This also means: Always create a new branch for each new pull
request.</p></li>
<li><p><strong>Draft pull requests</strong> are a nice way to inform about unfinished work and
to collect feedback early.</p></li>
<li><p><strong>Reviewing changes in Jupyter Notebooks</strong> can be pleasant. Enable
<a class="reference external" href="https://github.blog/changelog/2023-03-01-feature-preview-rich-jupyter-notebook-diffs/">Rich Jupyter Notebook Diffs</a>.</p></li>
</ol>
</section>
<section id="exercise-demo">
<h4>Exercise/demo<a class="headerlink" href="#exercise-demo" title="Link to this heading"></a></h4>
<p>The proof of the pudding is in the eating. Let’s try the above
in two pull requests:</p>
<div class="admonition-exercise exercise important admonition" id="exercise-0">
<p class="admonition-title">Exercise</p>
<ol class="arabic simple">
<li><p>Open an issue, describe an idea, then open a pull request that
cross-references the issue, then improve the pull request based on feedback
(as an example, we can try to change one of the colors in the warhol_effect
filter).</p></li>
<li><p>Compare the following “diff” between two branches that modifies our
Notebook. View it with and without the <a class="reference external" href="https://github.blog/changelog/2023-03-01-feature-preview-rich-jupyter-notebook-diffs/">Rich Jupyter Notebook
Diffs</a>
feature enabled (click on your avatar top-right on GitHub, then “Feature
preview”): <a class="reference external" href="https://github.com/coderefinery/imgfilters/compare/8aefed1..4dbae92">https://github.com/coderefinery/imgfilters/compare/8aefed1..4dbae92</a></p></li>
</ol>
</div>
</section>
<section id="how-to-organize-your-own-project">
<h4>How to organize your own project<a class="headerlink" href="#how-to-organize-your-own-project" title="Link to this heading"></a></h4>
<p><strong>How large should a commit be?</strong></p>
<ul class="simple">
<li><p>Better too small than too large (easier to combine than to split).</p></li>
<li><p>Smaller sized commits may be easier to review for others than huge commits.</p></li>
<li><p>Imperfect commits are better than no commits.</p></li>
</ul>
<p><strong>Writing useful commit messages</strong>:
Useful commit messages summarize the change and provide context.</p>
<p><strong>What level of branching complexity is necessary?</strong></p>
<ul class="simple">
<li><p>Simple <strong>personal projects</strong>: Typically start with just the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch.
Use branches when you are not sure about a change.</p></li>
<li><p>Projects with <strong>few persons</strong>: Create a new branch for each new feature or
bug fix. Changes are reviewed by others. Consider to write-protect the
<code class="docutils literal notranslate"><span class="pre">main</span></code> branch so that it can only be changed
with pull requests or merge requests.</p></li>
</ul>
</section>
<section id="more-resources">
<h4>More resources<a class="headerlink" href="#more-resources" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://coderefinery.github.io/git-collaborative/">CodeRefinery lesson on collaborative Git</a></p></li>
</ul>
</section>
</section>
<span id="document-1/sharing"></span><section id="how-to-turn-your-project-to-a-git-repo-and-share-it">
<span id="sharing-repositories"></span><h3>How to turn your project to a Git repo and share it<a class="headerlink" href="#how-to-turn-your-project-to-a-git-repo-and-share-it" title="Link to this heading"></a></h3>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Turn our own coding project (small or large, finished or unfinished) into a
Git repository.</p></li>
<li><p>Be able to share a repository on the web to have a backup or so that others
can reuse and collaborate or even just find it.</p></li>
</ul>
</div>
<section id="exercise">
<h4>Exercise<a class="headerlink" href="#exercise" title="Link to this heading"></a></h4>
<div class="admonition-optional-exercise-homework-turn-your-project-to-a-git-repo-and-share-it exercise important admonition" id="exercise-0">
<p class="admonition-title">Optional exercise/homework: Turn your project to a Git repo and share it</p>
<ol class="arabic simple">
<li><p>Create a new directory called <strong>myproject</strong> with one or few files in it.
This represents our own project. It is not yet a Git repository. You can try
that with your own project or use a simple placeholder example.</p></li>
<li><p>Turn this new directory into a Git repository.</p></li>
<li><p>Share this repository on GitHub (or GitLab, since it really works the same).</p></li>
</ol>
<p>We offer <strong>three different paths</strong> of how to do this exercise.</p>
<ul class="simple">
<li><p>Via <strong>GitHub web interface</strong>: easy and can be a good starting point if you are completely
new to Git.</p></li>
<li><p><strong>VS Code</strong> is quite easy, since VS Code can offer to create the
GitHub repositories for you.</p></li>
<li><p><strong>Command line</strong>: you need to create the
repository on GitHub and link it yourself.</p></li>
</ul>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-T25seSB1c2luZyBHaXRIdWI=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-T25seSB1c2luZyBHaXRIdWI=" name="T25seSB1c2luZyBHaXRIdWI=" role="tab" tabindex="0">Only using GitHub</button><button aria-controls="panel-0-VlMgQ29kZQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tab" tabindex="-1">VS Code</button><button aria-controls="panel-0-Q29tbWFuZCBsaW5l" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tab" tabindex="-1">Command line</button><button aria-controls="panel-0-UlN0dWRpbw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tab" tabindex="-1">RStudio</button></div><div aria-labelledby="tab-0-T25seSB1c2luZyBHaXRIdWI=" class="sphinx-tabs-panel group-tab" id="panel-0-T25seSB1c2luZyBHaXRIdWI=" name="T25seSB1c2luZyBHaXRIdWI=" role="tabpanel" tabindex="0"><p class="rubric" id="create-an-repository-on-github">Create an repository on GitHub</p>
<p>First log into GitHub, then follow the screenshots and descriptions below.</p>
<figure class="align-default" id="id5">
<a class="with-border reference internal image-reference" href="_images/new-repository.png"><img alt="Screenshot on GitHub before a new repository form is opened" class="with-border" src="_images/new-repository.png" style="width: 60%;" /></a>
<figcaption>
<p><span class="caption-text">Click on the “plus” symbol on top right, then on “New repository”.</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Then:</p>
<figure class="align-default" id="id6">
<a class="with-border reference internal image-reference" href="_images/create-repository-with-readme.png"><img alt="Screenshot on GitHub just before a new repository is created" class="with-border" src="_images/create-repository-with-readme.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Choose a repository name, add a short description, and in this case <strong>make sure to check</strong> “Add a
README file”. Finally “Create repository”.</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
<p class="rubric" id="upload-your-files">Upload your files</p>
<p>Now that the repository is created, you can upload your files:</p>
<figure class="align-default" id="id7">
<a class="with-border reference internal image-reference" href="_images/upload-files.png"><img alt="Screenshot on GitHub just before uploading files" class="with-border" src="_images/upload-files.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Click on the “+” symbol and then on “Upload files”.</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-0-VlMgQ29kZQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-VlMgQ29kZQ==" name="VlMgQ29kZQ==" role="tabpanel" tabindex="0"><p>In VS Code it only takes few clicks.</p>
<p>First, open the folder in VS Code. My example project here contains two files.
Then click on the source control icon:</p>
<figure class="align-default" id="id8">
<a class="with-border reference internal image-reference" href="_images/vscode-start.png"><img alt="Screenshot of VS Code before clicking on the source control icon" class="with-border" src="_images/vscode-start.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Open the folder in VS Code. Then click on the source control icon.</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id9">
<a class="with-border reference internal image-reference" href="_images/vscode-publish-to-github1.png"><img alt="Screenshot of VS Code before publishing to GitHub" class="with-border" src="_images/vscode-publish-to-github1.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Choose “Publish to GitHub”. In this case I never even clicked on “Initialize Repository”.</span><a class="headerlink" href="#id9" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id10">
<a class="with-border reference internal image-reference" href="_images/vscode-publish-to-github2.png"><img alt="Screenshot of VS Code before publishing to GitHub" class="with-border" src="_images/vscode-publish-to-github2.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">In my case I chose to “Publish to GitHub public repository”. Here you can also rename
the repository if needed.</span><a class="headerlink" href="#id10" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id11">
<a class="with-border reference internal image-reference" href="_images/vscode-authorize.png"><img alt="Screenshot of VS Code asking for authorization" class="with-border" src="_images/vscode-authorize.png" style="width: 50%;" /></a>
<figcaption>
<p><span class="caption-text">First time you do this you might need to authorize VS Code to access your
GitHub account by redirecting you to https://github.com/login/oauth/authorize.</span><a class="headerlink" href="#id11" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id12">
<a class="with-border reference internal image-reference" href="_images/vscode-publish-to-github3.png"><img alt="Screenshot of VS Code after publishing to GitHub" class="with-border" src="_images/vscode-publish-to-github3.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">After it is published, click on “Open on GitHub”.</span><a class="headerlink" href="#id12" title="Link to this image"></a></p>
</figcaption>
</figure>
</div><div aria-labelledby="tab-0-Q29tbWFuZCBsaW5l" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-Q29tbWFuZCBsaW5l" name="Q29tbWFuZCBsaW5l" role="tabpanel" tabindex="0"><p class="rubric" id="make-sure-your-git-is-configured">Make sure your Git is configured</p>
<p>We have an own section on this: <a class="reference external" href="https://coderefinery.github.io/git-intro/configuration/">https://coderefinery.github.io/git-intro/configuration/</a></p>
<p class="rubric" id="put-your-project-under-version-control">Put your project under version control</p>
<p>My example project here consists of two files. Replace this with your own
example files:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ls<span class="w"> </span>-l

<span class="go">.rw------- 19k user  7 Mar 17:36 LICENSE</span>
<span class="go">.rw-------  21 user  7 Mar 17:36 myscript.py</span>
</pre></div>
</div>
<p>I will first initialize a Git repository in this directory.
If you get an error, try without the <code class="docutils literal notranslate"><span class="pre">-b</span> <span class="pre">main</span></code> (and your default branch will
then be called <code class="docutils literal notranslate"><span class="pre">master</span></code>, this will happen for Git versions older than
2.28):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>init<span class="w"> </span>-b<span class="w"> </span>main
</pre></div>
</div>
<p>Now add and commit the two files to the Git repository:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>add<span class="w"> </span>LICENSE<span class="w"> </span>myscript.py
<span class="gp">$ </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;putting my project under version control&quot;</span>
</pre></div>
</div>
<p>If you want to add all files in one go, you can use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">.</span></code> instead of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">LICENSE</span> <span class="pre">myscript.py</span></code>.</p>
<p>Now you have a Git repository with one commit. Verify this with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code>.
But it’s still only on your computer. Let’s put it on GitHub next.</p>
<p class="rubric" id="create-an-empty-repository-on-github">Create an <u>empty</u> repository on GitHub</p>
<p>First log into GitHub, then follow the screenshots and descriptions below.</p>
<figure class="align-default" id="id13">
<a class="with-border reference internal image-reference" href="_images/new-repository.png"><img alt="Screenshot on GitHub before a new repository form is opened" class="with-border" src="_images/new-repository.png" style="width: 60%;" /></a>
<figcaption>
<p><span class="caption-text">Click on the “plus” symbol on top right, then on “New repository”.</span><a class="headerlink" href="#id13" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Then create an empty repository without any files and without any commits:</p>
<figure class="align-default" id="id14">
<a class="with-border reference internal image-reference" href="_images/create-repository.png"><img alt="Screenshot on GitHub just before a new repository is created" class="with-border" src="_images/create-repository.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Choose a repository name, add a short description, but please <strong>do not check</strong> “Add a
README file”. For “Add .gitignore” and “Choose a license” also leave as “None”. Finally “Create repository”.</span><a class="headerlink" href="#id14" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Once you click the green “Create repository”, you will see a page similar to:</p>
<figure class="align-default">
<a class="with-border reference internal image-reference" href="_images/bare-repository.png"><img alt="Screenshot on GitHub after a bare repository was created" class="with-border" src="_images/bare-repository.png" style="width: 100%;" /></a>
</figure>
<p>What this means is that we have now an empty project with either an HTTPS or an
SSH address: click on the HTTPS and SSH buttons to see what happens.</p>
<p class="rubric" id="push-an-existing-repository-from-your-computer-to-github">Push an existing repository from your computer to GitHub</p>
<p>We now want to follow the “<strong>… or push an existing repository from the command line</strong>”:</p>
<ol class="arabic simple">
<li><p>In your terminal make sure you are still in your myproject directory.</p></li>
<li><p>Copy paste the three lines below the red arrow to the terminal and execute
those, in my case (<strong>you need to replace the “USER” part and possibly also
the repository name</strong>):</p></li>
</ol>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-U1NI" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-U1NI" name="U1NI" role="tab" tabindex="0">SSH</button><button aria-controls="panel-1-SFRUUFM=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-SFRUUFM=" name="SFRUUFM=" role="tab" tabindex="-1">HTTPS</button></div><div aria-labelledby="tab-1-U1NI" class="sphinx-tabs-panel group-tab" id="panel-1-U1NI" name="U1NI" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>origin<span class="w"> </span>git@github.com:USER/myproject.git
</pre></div>
</div>
</div><div aria-labelledby="tab-1-SFRUUFM=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-SFRUUFM=" name="SFRUUFM=" role="tabpanel" tabindex="0"><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>origin<span class="w"> </span>https://github.com/USER/myproject.git
</pre></div>
</div>
</div></div>
<p>Then:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git<span class="w"> </span>branch<span class="w"> </span>-M<span class="w"> </span>main
<span class="gp">$ </span>git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span>main
</pre></div>
</div>
<p>The meaning of the above lines:</p>
<ul class="simple">
<li><p>Add a remote reference with the name “origin”</p></li>
<li><p>Rename current branch to “main”</p></li>
<li><p>Push branch “main” to “origin”</p></li>
</ul>
<p>You should now see:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Enumerating objects: 4, done.
Counting objects: 100% (4/4), done.
Delta compression using up to 12 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (4/4), 6.08 KiB | 6.08 MiB/s, done.
Total 4 (delta 0), reused 0 (delta 0), pack-reused 0
To github.com:USER/myproject.git
 * [new branch]      main -&gt; main
branch &#39;main&#39; set up to track &#39;origin/main&#39;.
</pre></div>
</div>
<p>Reload your GitHub project website and your commits should now be
online!</p>
<p class="rubric" id="troubleshooting">Troubleshooting</p>
<p><strong>error: remote origin already exists</strong></p>
<ul class="simple">
<li><p>Explanation: You probably ran a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">origin</span> <span class="pre">...</span></code> command, then changed your
mind about HTTPS or SSH and then tried to run the other <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">origin</span> <span class="pre">...</span></code> command but “origin” then already exists.</p></li>
<li><p>Recovery:</p>
<ul>
<li><p>First remove “origin” with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">remove</span> <span class="pre">origin</span></code></p></li>
<li><p>Then run the correct <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">add</span> <span class="pre">origin</span> <span class="pre">...</span></code> command</p></li>
</ul>
</li>
</ul>
<p><strong>remote contains work that you do not have</strong></p>
<ul class="simple">
<li><p>Explanation: You probably clicked on “Add a README file” and now the
repository on GitHub is not empty but contains one commit and locally you
have a different history. Git now prevents you from accidentally overwriting
the history on GitHub.</p></li>
<li><p>Recovery:</p>
<ul>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">--force</span></code> instead of <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span></code>, which will force Git to overwrite the history on GitHub</p></li>
<li><p>Note that this is a powerful but also possibly dangerous option but here it
helps us. If it’s a brand new repo, it probably is fine to do this. For real
repositories, don’t do this unless you are very sure what is happening.</p></li>
</ul>
</li>
</ul>
</div><div aria-labelledby="tab-0-UlN0dWRpbw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-UlN0dWRpbw==" name="UlN0dWRpbw==" role="tabpanel" tabindex="0"><p>This is not fully explained, because a lot of it is similar to the “Command
line” method (and an RStudio expert could help us some).  The main differences
are:</p>
<p class="rubric" id="id1">Put your project under version control</p>
<ol class="arabic simple">
<li><p>Tools → Version control → Project setup → Version control system = Git.</p></li>
<li><p>Select “Yes” for “do you want to initialize a new git repository for this project.</p></li>
<li><p>Select yes to restart the project with RStudio.</p></li>
<li><p>Switch to branch <code class="docutils literal notranslate"><span class="pre">main</span></code> to have you branch named that.</p></li>
</ol>
<p class="rubric" id="id2">Create an <u>empty</u> repository on GitHub</p>
<p>Same as command line</p>
<p class="rubric" id="id3">Push an existing repository from your computer to GitHub</p>
<ol class="arabic simple">
<li><p>Under the “Create new branch” button → “Add Remote”</p></li>
<li><p>Remote name: <code class="docutils literal notranslate"><span class="pre">origin</span></code></p></li>
<li><p>Remote URL: as in command line (remember to select SSH or HTTPS as you have configured your RStudio)</p></li>
<li><p>The “Push” (up arrow) button will send changes on your current branch to the remote.  The “Pull” (down arrow) will get changes from the remote.</p></li>
</ol>
<p class="rubric" id="id4">Troubleshooting</p>
<p>Same as command line</p>
</div></div>
</div>
</section>
<section id="remote-repositories">
<h4>Remote repositories<a class="headerlink" href="#remote-repositories" title="Link to this heading"></a></h4>
<p>In this exercise we have pushed our local repository to a remote
repository.  You can learn how to work with remote repositories in
detail in the <a class="reference external" href="https://coderefinery.github.io/git-collaborative/">collaborative distributed version
control</a> lesson.</p>
<p>To store your Git data on another server, you use <strong>remotes</strong>.  A
remote is a repository on its own, with its own branches. We can
<strong>push</strong> changes to the remote and <strong>pull</strong> from the remote.</p>
<p>You might use remotes to:</p>
<ul class="simple">
<li><p>Back up your own work or make your work findable.</p></li>
<li><p>To collaborate with other people.</p></li>
</ul>
<p>There are services that can be a remote:</p>
<ul class="simple">
<li><p>If you have a server you can SSH to, you can use that as a remote.</p></li>
<li><p><a class="reference external" href="https://github.com">GitHub</a> is a popular, closed-source commercial site.</p></li>
<li><p><a class="reference external" href="https://about.gitlab.com">GitLab</a> is a popular, open-core
commercial site.  Many universities have their own private GitLab servers
set up.</p></li>
<li><p><a class="reference external" href="https://bitbucket.org">Bitbucket</a> is yet another popular commercial site.</p></li>
<li><p>Another option is <a class="reference external" href="https://notabug.org">NotABug</a>.</p></li>
<li><p>There are more …</p></li>
</ul>
</section>
<section id="is-putting-software-on-github-gitlab-publishing">
<h4>Is putting software on GitHub/GitLab/… publishing?<a class="headerlink" href="#is-putting-software-on-github-gitlab-publishing" title="Link to this heading"></a></h4>
<p>It is a good first step but to make your code truly <strong>findable and
accessible</strong>, consider making your code <strong>citable and persistent</strong>: Get a
persistent identifier (PID) such as DOI in addition to sharing the code
publicly, by using services like <a class="reference external" href="https://zenodo.org">Zenodo</a> or similar
services.</p>
<p>We will practice this together in the episode <a class="reference internal" href="index.html#publishing-code"><span class="std std-ref">How to publish your code</span></a>.</p>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-2/documentation"></span><section id="code-documentation">
<h3>Code documentation<a class="headerlink" href="#code-documentation" title="Link to this heading"></a></h3>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Improve the README of our example project.</p></li>
<li><p>Add <a class="reference external" href="https://www.sphinx-doc.org/">Sphinx</a> documentation to the project.</p></li>
<li><p>Deploy the result to <a class="reference external" href="https://pages.github.com/">GitHub Pages</a>.</p></li>
</ul>
</div>
<section id="why-to-your-future-self">
<h4>Why? 💗✉️ to your future self<a class="headerlink" href="#why-to-your-future-self" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>You will probably use your code in the future and may forget details.</p></li>
<li><p>You may want others to use your code (almost impossible without documentation).</p></li>
<li><p>You may want others to contribute to the code.</p></li>
<li><p>Time is limited - let the documentation answer FAQs.</p></li>
</ul>
</section>
<section id="in-code-documentation">
<h4>In-code documentation<a class="headerlink" href="#in-code-documentation" title="Link to this heading"></a></h4>
<p>Not very useful (more commentary than comment):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># now we check if temperature is below -50</span>
<span class="k">if</span> <span class="n">temperature</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">50</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ERROR: temperature is too low&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>More useful (explaining <strong>why</strong>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># we regard temperatures below -50 degrees as measurement errors</span>
<span class="k">if</span> <span class="n">temperature</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">50</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ERROR: temperature is too low&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Keeping zombie code “just in case” (rather use version control):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># do not run this code!</span>
<span class="c1"># if temperature &gt; 0:</span>
<span class="c1">#     print(&quot;It is warm&quot;)</span>
</pre></div>
</div>
<p>Emulating version control:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># John Doe: threshold changed from 0 to 15 on August 5, 2013</span>
<span class="k">if</span> <span class="n">temperature</span> <span class="o">&gt;</span> <span class="mi">15</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;It is warm&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="many-languages-allow-docstrings">
<h4>Many languages allow “docstrings”<a class="headerlink" href="#many-languages-allow-docstrings" title="Link to this heading"></a></h4>
<p>Example (Python):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">kelvin_to_celsius</span><span class="p">(</span><span class="n">temp_k</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts temperature in Kelvin to Celsius.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    temp_k : float</span>
<span class="sd">        temperature in Kelvin</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    temp_c : float</span>
<span class="sd">        temperature in Celsius</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">temp_k</span> <span class="o">&gt;=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;ERROR: negative T_K&quot;</span>

    <span class="n">temp_c</span> <span class="o">=</span> <span class="n">temp_k</span> <span class="o">-</span> <span class="mf">273.15</span>

    <span class="k">return</span> <span class="n">temp_c</span>
</pre></div>
</div>
</section>
<section id="often-a-readme-is-enough-checklist">
<h4>Often a README is enough - checklist<a class="headerlink" href="#often-a-readme-is-enough-checklist" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Purpose</strong></p></li>
<li><p>Installation instructions</p></li>
<li><p>Requirements</p></li>
<li><p><strong>Copy-paste-able example to get started</strong></p></li>
<li><p>Tutorials covering key functionality</p></li>
<li><p>Reference documentation (e.g. API) covering all functionality</p></li>
<li><p>Authors and <strong>recommended citation</strong></p></li>
<li><p>License</p></li>
<li><p>Contribution guide</p></li>
</ul>
<p>See also the
<a class="reference external" href="https://joss.readthedocs.io/en/latest/review_checklist.html">JOSS review checklist</a>.</p>
</section>
<section id="what-if-you-need-more-than-a-readme">
<h4>What if you need more than a README?<a class="headerlink" href="#what-if-you-need-more-than-a-readme" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Write documentation in
<a class="reference external" href="https://en.wikipedia.org/wiki/Markdown">Markdown (.md)</a>
or
<a class="reference external" href="https://en.wikipedia.org/wiki/ReStructuredText">reStructuredText (.rst)</a>
or
<a class="reference external" href="https://rmarkdown.rstudio.com/">R Markdown (.Rmd)</a></p></li>
<li><p>In the <strong>same repository</strong> as the code -&gt; version control and <strong>reproducibility</strong></p></li>
<li><p>Use one of many tools to build HTML out of md/rst/Rmd:
<a class="reference external" href="https://sphinx-doc.org">Sphinx</a>,
<a class="reference external" href="https://www.getzola.org/">Zola</a>, <a class="reference external" href="https://jekyllrb.com/">Jekyll</a>,
<a class="reference external" href="https://gohugo.io/">Hugo</a>, RStudio, <a class="reference external" href="https://yihui.org/knitr/">knitr</a>,
<a class="reference external" href="https://bookdown.org/">bookdown</a>,
<a class="reference external" href="https://bookdown.org/yihui/blogdown/">blogdown</a>, …</p></li>
<li><p>Deploy the generated HTML to <a class="reference external" href="https://pages.github.com/">GitHub Pages</a> or
<a class="reference external" href="https://docs.gitlab.com/ee/user/project/pages/">GitLab Pages</a></p></li>
</ul>
</section>
<section id="exercise-demo">
<h4>Exercise/demo<a class="headerlink" href="#exercise-demo" title="Link to this heading"></a></h4>
<div class="admonition-exercise exercise important admonition" id="exercise-0">
<p class="admonition-title">Exercise</p>
<ul class="simple">
<li><p>Open an issue and send a pull request (referencing the issue) which
improves the README of the example project.</p></li>
<li><p>We will together open a pull request from <a class="reference external" href="https://github.com/coderefinery/imgfilters/tree/radovan/documentation">a branch that adds Sphinx
documentation</a>
and review it.</p></li>
<li><p>We will verify that from there on documentation is built automatically by
sending another pull request with a small change.</p></li>
</ul>
</div>
</section>
<section id="more-resources">
<h4>More resources<a class="headerlink" href="#more-resources" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://coderefinery.github.io/documentation/">Documentation lesson material</a></p></li>
<li><p><a class="reference external" href="https://github.com/samumantha/documentation_example">Talk material “Documenting code” by S. Wittke</a></p></li>
<li><p>Inside Sphinx we can add tables, images, equations, code snippets, … (<a class="reference external" href="https://coderefinery.github.io/documentation/sphinx/#exercise-adding-more-sphinx-content">more information</a>.</p></li>
</ul>
</section>
<section id="optional-how-to-auto-generate-documentation-from-docstrings-in-python">
<h4>Optional: How to auto-generate documentation from docstrings in Python<a class="headerlink" href="#optional-how-to-auto-generate-documentation-from-docstrings-in-python" title="Link to this heading"></a></h4>
<p>Add the following highlighted lines to <code class="docutils literal notranslate"><span class="pre">conf.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configuration file for the Sphinx documentation builder.</span>
<span class="c1">#</span>
<span class="c1"># For the full list of built-in configuration values, see the documentation:</span>
<span class="c1"># https://www.sphinx-doc.org/en/master/usage/configuration.html</span>

<span class="hll"><span class="kn">import</span> <span class="nn">os</span>
</span><span class="hll"><span class="kn">import</span> <span class="nn">sys</span>
</span><span class="hll">
</span><span class="hll"><span class="c1"># this is here so that the package can be imported by sphinx</span>
</span><span class="hll"><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s2">&quot;..&quot;</span><span class="p">))</span>
</span>
<span class="c1"># -- Project information -----------------------------------------------------</span>
<span class="c1"># https://www.sphinx-doc.org/en/master/usage/configuration.html#project-information</span>

<span class="n">project</span> <span class="o">=</span> <span class="s2">&quot;imgfilters&quot;</span>
<span class="n">copyright</span> <span class="o">=</span> <span class="s2">&quot;2024, Authors&quot;</span>
<span class="n">author</span> <span class="o">=</span> <span class="s2">&quot;Authors&quot;</span>
<span class="n">release</span> <span class="o">=</span> <span class="s2">&quot;0.1&quot;</span>

<span class="c1"># -- General configuration ---------------------------------------------------</span>
<span class="c1"># https://www.sphinx-doc.org/en/master/usage/configuration.html#general-configuration</span>

<span class="n">exclude_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;_build&quot;</span><span class="p">,</span> <span class="s2">&quot;Thumbs.db&quot;</span><span class="p">,</span> <span class="s2">&quot;.DS_Store&quot;</span><span class="p">]</span>

<span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;myst_parser&quot;</span><span class="p">,</span>  <span class="c1"># in order to use markdown</span>
<span class="hll">    <span class="s2">&quot;sphinx.ext.autodoc&quot;</span><span class="p">,</span>  <span class="c1"># to automatically document the code from docstrings</span>
</span><span class="hll">    <span class="s2">&quot;sphinx.ext.napoleon&quot;</span><span class="p">,</span>  <span class="c1"># to parse numpy-style docstrings</span>
</span><span class="p">]</span>

<span class="n">myst_enable_extensions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;colon_fence&quot;</span><span class="p">,</span>  <span class="c1"># ::: can be used instead of ``` for better rendering</span>
<span class="p">]</span>

<span class="c1"># -- Options for HTML output -------------------------------------------------</span>
<span class="c1"># https://www.sphinx-doc.org/en/master/usage/configuration.html#options-for-html-output</span>

<span class="n">html_theme</span> <span class="o">=</span> <span class="s2">&quot;sphinx_rtd_theme&quot;</span>
</pre></div>
</div>
<p>Instead of one command to build the documentation we now need two:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sphinx-apidoc<span class="w"> </span>-o<span class="w"> </span>doc<span class="w"> </span>imgfilters
<span class="gp">$ </span>sphinx-build<span class="w"> </span>doc<span class="w"> </span>_build
</pre></div>
</div>
<p>Add to <code class="docutils literal notranslate"><span class="pre">index.md</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">:::{</span><span class="n">toctree</span><span class="p">}</span>
<span class="p">:</span><span class="n">maxdepth</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">:</span><span class="n">caption</span><span class="p">:</span> <span class="n">API</span> <span class="n">documentation</span>

<span class="n">modules</span><span class="o">.</span><span class="n">rst</span>
<span class="p">:::</span>
</pre></div>
</div>
</section>
</section>
<span id="document-2/testing"></span><section id="automated-testing-from-unit-tests-to-end-to-end-tests">
<h3>Automated testing: from unit tests to end-to-end tests<a class="headerlink" href="#automated-testing-from-unit-tests-to-end-to-end-tests" title="Link to this heading"></a></h3>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Get an overview of possibilities for automated testing.</p></li>
<li><p>Add a unit test to a function.</p></li>
<li><p>Add an end-to-end test or discuss how it could look.</p></li>
<li><p>Make the testing part of code review.</p></li>
<li><p>Discuss where to start in your own project.</p></li>
</ul>
</div>
<section id="technical-possibilities">
<h4>Technical possibilities<a class="headerlink" href="#technical-possibilities" title="Link to this heading"></a></h4>
<p>Any programming language has tools/libraries to perform:</p>
<ul class="simple">
<li><p><strong>Unit tests</strong>: test a function or a module and
compare function result to a reference.</p></li>
<li><p><strong>End-to-end test</strong>: run the whole code and compare result to a reference.</p></li>
<li><p><strong>Coverage analysis</strong>: Give overview of which parts of the code are tested.</p></li>
<li><p>The test (set) can be run <strong>automatically</strong> on <a class="reference external" href="https://github.com/features/actions">GitHub
Actions</a> or <a class="reference external" href="https://docs.gitlab.com/ee/ci/">GitLab
CI</a> after every Git commit.</p></li>
</ul>
</section>
<section id="motivation">
<h4>Motivation<a class="headerlink" href="#motivation" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Less scary to change code</strong>: tests will tell you whether something broke.</p></li>
<li><p>Unit tests can <strong>guide towards better structured code</strong>: complicated code is more difficult to test.</p></li>
<li><p><strong>Easier for new people</strong> to join.</p></li>
<li><p>Easier for somebody to <strong>revive an old code</strong>.</p></li>
</ul>
</section>
<section id="how-testing-is-often-taught">
<h4>How testing is often taught<a class="headerlink" href="#how-testing-is-often-taught" title="Link to this heading"></a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>


<span class="k">def</span> <span class="nf">test_add</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>
</pre></div>
</div>
<p>How this feels:</p>
<figure class="align-default" id="id1">
<a class="with-border reference internal image-reference" href="_images/owl.png"><img alt="Instruction on how to draw an owl" class="with-border" src="_images/owl.png" style="width: 50%;" /></a>
<figcaption>
<p><span class="caption-text">[Citation needed]</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Instead, we will look at and <strong>discuss a real example</strong> where we test components
from our image processing project.</p>
</section>
<section id="exercise-demo">
<h4>Exercise/demo<a class="headerlink" href="#exercise-demo" title="Link to this heading"></a></h4>
<div class="admonition-exercise exercise important admonition" id="exercise-0">
<p class="admonition-title">Exercise</p>
<ul class="simple">
<li><p>We will together open a pull request from <a class="reference external" href="https://github.com/coderefinery/imgfilters/tree/radovan/testing">a branch that implements testing</a>
and review it.</p></li>
<li><p>We will verify that from there on tests are run automatically.</p></li>
<li><p>We will try to open another pull request later which would break tests (and not merge it).</p></li>
</ul>
</div>
<div class="admonition-discussion discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion</p>
<ul class="simple">
<li><p>We will discuss the potential but also limitations of the code changes.</p></li>
<li><p>Do we need this for a simple Notebook?</p></li>
</ul>
</div>
</section>
<section id="where-to-start">
<h4>Where to start<a class="headerlink" href="#where-to-start" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>A simple script or notebook probably does not need an automated test.</p></li>
</ul>
<p><strong>If you have nothing yet</strong>:</p>
<ul class="simple">
<li><p>Start with an end-to-end test.</p></li>
<li><p>Describe in words how <em>you</em> check whether the code still works.</p></li>
<li><p>Translate the words into a script.</p></li>
<li><p>Run the script automatically on every code change.</p></li>
</ul>
<p><strong>If you want to start with unit-testing</strong>:</p>
<ul class="simple">
<li><p>You want to rewrite a function? Start adding a unit test right there first.</p></li>
</ul>
</section>
<section id="recommendations-for-notebooks">
<h4>Recommendations for Notebooks<a class="headerlink" href="#recommendations-for-notebooks" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Automated testing is often too much for notebooks.</p></li>
<li><p>Instead you can test modules that you import in the notebook.</p></li>
<li><p>What is often more useful is to provide an example input
and show how the result should look like.
Good example: <a class="reference external" href="https://scikit-image.org/docs/stable/auto_examples/index.html">scikit-image</a></p></li>
</ul>
</section>
<section id="more-resources">
<h4>More resources<a class="headerlink" href="#more-resources" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://coderefinery.github.io/testing/">Software testing lesson material</a></p></li>
</ul>
</section>
</section>
<span id="document-2/structure"></span><section id="how-to-structure-the-code-as-it-grows">
<h3>How to structure the code as it grows<a class="headerlink" href="#how-to-structure-the-code-as-it-grows" title="Link to this heading"></a></h3>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Discuss the advantages of structuring code into functions and files.</p></li>
<li><p>Add a command-line interface to the code and discuss its advantages.</p></li>
</ul>
</div>
<section id="from-no-functions-to-functions">
<h4>From no functions to functions<a class="headerlink" href="#from-no-functions-to-functions" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Many projects start with a single file and all code is in the global scope (meaning there are no functions).</p></li>
<li><p>A bit later we often introduce functions into the code.</p></li>
</ul>
<p>Motivation to structure code into functions:</p>
<ul class="simple">
<li><p>Less code repetition.</p></li>
<li><p>Functions can make the overall code flow more readable and easier to follow.
Example: <a class="reference external" href="https://github.com/coderefinery/imgfilters/blob/main/example.py">https://github.com/coderefinery/imgfilters/blob/main/example.py</a></p></li>
<li><p>They allow us to encapsulate details and complexity.</p></li>
<li><p>We can make code reusable across projects and notebooks.</p></li>
<li><p>Code becomes easier to test.</p></li>
<li><p>Unintended side effects are less likely to occur.</p></li>
<li><p>For languages with garbage collection, functions can help to manage memory.</p></li>
</ul>
</section>
<section id="prefer-pure-functions">
<h4>Prefer pure functions<a class="headerlink" href="#prefer-pure-functions" title="Link to this heading"></a></h4>
<p>These are functions without side-effects, meaning they do not modify any global
variables or have any other side-effects.</p>
<p>Functions without side-effects are easier to understand and to copy-paste into
other projects.</p>
<p>Examples for impure functions:</p>
<ul class="simple">
<li><p>Functions which modify global variables.</p></li>
<li><p>Functions which modify input data.</p></li>
<li><p>Functions which read from or write to files or databases.</p></li>
</ul>
</section>
<section id="from-one-file-to-multiple-files">
<h4>From one file to multiple files<a class="headerlink" href="#from-one-file-to-multiple-files" title="Link to this heading"></a></h4>
<p>Motivation to split code into multiple files:</p>
<ul class="simple">
<li><p>When the one file grows long and becomes hard to navigate.</p></li>
<li><p>When we want to reuse some functions in other projects.</p></li>
<li><p>We can browse <a class="reference external" href="https://github.com/coderefinery/imgfilters/network">https://github.com/coderefinery/imgfilters/network</a> and find the point where that happened.</p></li>
</ul>
</section>
<section id="exercise-demo-adding-a-command-line-interface">
<h4>Exercise/demo: Adding a command-line interface<a class="headerlink" href="#exercise-demo-adding-a-command-line-interface" title="Link to this heading"></a></h4>
<p>Adding a command-line interface (CLI) to a script is an often undervalued “superpower” of programming.</p>
<div class="admonition-exercise exercise important admonition" id="exercise-0">
<p class="admonition-title">Exercise</p>
<ul class="simple">
<li><p>We will together add a command-line interface to our example code.</p></li>
</ul>
</div>
<div class="admonition-discussion discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion</p>
<ul class="simple">
<li><p>We will discuss the advantages of doing this:</p>
<ul>
<li><p><strong>Easier to use</strong>: Give the user the freedom to change data and settings without having to modify the code.</p></li>
<li><p><strong>Easier to parallelize</strong>: Give the user the freedom to choose their parallelization strategy.</p></li>
<li><p><strong>Easier to automate</strong>: As part of pipeline/workflow tools.</p></li>
</ul>
</li>
</ul>
</div>
<p>Here is an example solution using <a class="reference external" href="https://docs.python.org/3/library/argparse.html">Argparse</a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">imgfilters.filters</span> <span class="kn">import</span> <span class="n">pixelate</span>
<span class="kn">from</span> <span class="nn">imgfilters.file_io</span> <span class="kn">import</span> <span class="n">read_image</span><span class="p">,</span> <span class="n">save_image</span>

<span class="kn">import</span> <span class="nn">argparse</span>


<span class="k">def</span> <span class="nf">parse_arguments</span><span class="p">():</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Pixelate image&quot;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--input&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to the input image&quot;</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--output&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to the output image&quot;</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;--scale&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Scale for pixelation&quot;</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>


<span class="n">args</span> <span class="o">=</span> <span class="n">parse_arguments</span><span class="p">()</span>


<span class="n">image</span> <span class="o">=</span> <span class="n">read_image</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">input</span><span class="p">)</span>
<span class="n">image_pixelated</span> <span class="o">=</span> <span class="n">pixelate</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">args</span><span class="o">.</span><span class="n">scale</span><span class="p">,</span> <span class="n">num_colors</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="n">save_image</span><span class="p">(</span><span class="n">image_pixelated</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</pre></div>
</div>
<p>Instead of Argparse, we could have used
<a class="reference external" href="https://click.palletsprojects.com">Click</a> or
<a class="reference external" href="http://docopt.org/">docopt</a> or …</p>
</section>
<section id="more-resources">
<h4>More resources<a class="headerlink" href="#more-resources" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://clig.dev/">Command Line Interface Guidelines</a></p></li>
</ul>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-3/reproducibility"></span><section id="reproducible-dependencies-environments-and-workflows">
<h3>Reproducible dependencies, environments, and workflows<a class="headerlink" href="#reproducible-dependencies-environments-and-workflows" title="Link to this heading"></a></h3>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Learn how to document dependencies in Python.</p></li>
<li><p>Discuss how to document dependencies in other languages.</p></li>
<li><p>Each (non-trivial) Python project from now on should have a
<code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> or <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> file.</p></li>
</ul>
</div>
<section id="have-you-ever-experienced-the-following">
<h4>Have you ever experienced the following?<a class="headerlink" href="#have-you-ever-experienced-the-following" title="Link to this heading"></a></h4>
<ol class="arabic simple">
<li><p>You try to run a code or notebook and it cannot find a module?</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;/home/user/imgfilters/example.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">from</span> <span class="nn">imgfilters.filters</span> <span class="kn">import</span> <span class="p">(</span>
  <span class="n">File</span> <span class="s2">&quot;/home/user/imgfilters/imgfilters/filters.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="ne">ModuleNotFoundError</span><span class="p">:</span> <span class="n">No</span> <span class="n">module</span> <span class="n">named</span> <span class="s1">&#39;numpy&#39;</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>You have installed the module but the code still does not work since it needs
a different version of the module?</p></li>
<li><p>“It works on my machine 🤷” but not on your machine?</p></li>
</ol>
<div class="admonition-discussion discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion</p>
<ul class="simple">
<li><p>How do you install and use dependencies in your projects?</p></li>
<li><p>How do you document them?</p></li>
</ul>
</div>
</section>
<section id="tracking-dependencies-in-python">
<h4>Tracking dependencies in Python<a class="headerlink" href="#tracking-dependencies-in-python" title="Link to this heading"></a></h4>
<p><strong>There are two standard files to document dependencies in Python.</strong>
Either use <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> (together with pip) or <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> (Conda).</p>
<p>Let us study the <a class="reference external" href="https://github.com/coderefinery/imgfilters/blob/main/requirements.txt">requirements.txt</a> from our project.</p>
<ul class="simple">
<li><p>How would we “pin” the versions?</p></li>
<li><p>When should we “pin” the versions?</p></li>
</ul>
<p>How would the corresponding <code class="docutils literal notranslate"><span class="pre">environment.yml</span></code> look like?</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">imgfilters</span>
<span class="nt">channels</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
<span class="nt">dependencies</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">python=3.12</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">numpy</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scikit-image</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scikit-learn</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pywavelets</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">matplotlib</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jupyterlab</span>
</pre></div>
</div>
<p><strong>What if you don’t remember which dependencies you have installed?</strong></p>
<p>Conda:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># list all dependencies and write them to file</span>
$<span class="w"> </span>conda<span class="w"> </span>env<span class="w"> </span><span class="nb">export</span><span class="w"> </span>&gt;<span class="w"> </span>environment.yml

<span class="c1"># omit detailed build information</span>
$<span class="w"> </span>conda<span class="w"> </span>env<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--no-builds<span class="w"> </span>&gt;<span class="w"> </span>environment.yml

<span class="c1"># only list dependencies that were explicitly installed, not their dependencies</span>
$<span class="w"> </span>conda<span class="w"> </span>env<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--from-history<span class="w"> </span>&gt;<span class="w"> </span>environment.yml
</pre></div>
</div>
<p>pip:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>freeze<span class="w"> </span>&gt;<span class="w"> </span>requirements.txt
</pre></div>
</div>
<p><strong>My recommendation to install dependencies and document them at the same time:</strong>
Document them first and then install from file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>conda<span class="w"> </span>env<span class="w"> </span>create<span class="w"> </span>-f<span class="w"> </span>environment.yml
<span class="gp">$ </span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</pre></div>
</div>
</section>
<section id="what-if-i-need-to-record-the-entire-operating-system">
<h4>What if I need to record the entire operating system?<a class="headerlink" href="#what-if-i-need-to-record-the-entire-operating-system" title="Link to this heading"></a></h4>
<p>One solution can be: Containers (Apptainer/Singularity, Docker, …)
but the details of this are outside the scope of this short course.</p>
</section>
<section id="recording-computational-steps">
<h4>Recording computational steps<a class="headerlink" href="#recording-computational-steps" title="Link to this heading"></a></h4>
<p>We need a way to record and <strong>communicate</strong> computational steps:</p>
<ul class="simple">
<li><p><strong>README</strong> (steps written out “in words”)</p></li>
<li><p><strong>Scripts</strong> (typically shell scripts)</p></li>
<li><p><strong>Notebooks</strong> (Jupyter or R Markdown)</p></li>
<li><p><strong>Workflows</strong> (Snakemake, doit, …)</p></li>
</ul>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/busy.png"><img alt="Busy kitchen" src="_images/busy.png" style="width: 50%;" /></a>
</figure>
<p>[Midjourney, CC-BY-NC 4.0]</p>
</section>
<section id="more-reading">
<h4>More reading<a class="headerlink" href="#more-reading" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://coderefinery.github.io/reproducible-research/">Reproducible research</a></p></li>
<li><p><a class="reference external" href="https://the-turing-way.netlify.app/reproducible-research/reproducible-research.html">The Turing Way: Guide for Reproducible Research</a></p></li>
<li><p><a class="reference external" href="https://doi.org/10.1371/journal.pcbi.1008316">Ten simple rules for writing Dockerfiles for reproducible data science</a></p></li>
<li><p><a class="reference external" href="https://doi.org/10.5281/zenodo.8089471">Computing environment reproducibility</a></p></li>
</ul>
</section>
</section>
<span id="document-3/software-licensing"></span><section id="choosing-a-software-license">
<h3>Choosing a software license<a class="headerlink" href="#choosing-a-software-license" title="Link to this heading"></a></h3>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Knowing about what derivative work is and whether we can share it.</p></li>
<li><p>Get familiar with terminology around licensing.</p></li>
<li><p>We will add a license to our example project.</p></li>
</ul>
</div>
<section id="copyright-and-derivative-work-sampling-remixing">
<h4>Copyright and derivative work: Sampling/remixing<a class="headerlink" href="#copyright-and-derivative-work-sampling-remixing" title="Link to this heading"></a></h4>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/record-player.png"><img alt="Generated image of a monk operating a record player" src="_images/record-player.png" style="width: 50%;" /></a>
</figure>
<p>[Midjourney, CC-BY-NC 4.0]</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/turntable.png"><img alt="Generated image of a monk operating two record players" src="_images/turntable.png" style="width: 50%;" /></a>
</figure>
<p>[Midjourney, CC-BY-NC 4.0]</p>
<ul class="simple">
<li><p>Copyright controls whether and how we can distribute
the original work or the <strong>derivative work</strong>.</p></li>
<li><p>In the <strong>context of software</strong> it is more about
being able to change and <strong>distribute changes</strong>.</p></li>
<li><p>Changing and distributing software is similar to changing and distributing
music</p></li>
<li><p>You can do almost anything if you don’t distribute it</p></li>
</ul>
<p><strong>Often we don’t have the choice</strong>:</p>
<ul class="simple">
<li><p>We are expected to publish software</p></li>
<li><p>Sharing can be good insurance against being locked out</p></li>
</ul>
<p><strong>Can we distribute our changes</strong> with the research community or our future selves?</p>
</section>
<section id="why-software-licenses-matter">
<h4>Why software licenses matter<a class="headerlink" href="#why-software-licenses-matter" title="Link to this heading"></a></h4>
<p>You find some great code that you want to reuse for your own publication.</p>
<ul class="simple">
<li><p>This is good for the original author - you will cite them. Maybe other people who cite you will cite them.</p></li>
<li><p>You modify and remix the code.</p></li>
<li><p>Two years later … ⌛</p></li>
<li><p>Time to publish: You realize <strong>there is no license to the original work</strong> 😱</p></li>
</ul>
<p><strong>Now we have a problem</strong>:</p>
<ul class="simple">
<li><p>😬 “Best” case: You manage to publish the paper without the software/data.
Others cannot build on your software and data.</p></li>
<li><p>😱 Worst case: You cannot publish it at all.
Journal requires that papers should come with data and software so that they are reproducible.</p></li>
</ul>
</section>
<section id="taxonomy-of-software-licenses">
<h4>Taxonomy of software licenses<a class="headerlink" href="#taxonomy-of-software-licenses" title="Link to this heading"></a></h4>
<figure class="align-default" id="id1">
<img alt="European Union Public Licence (EUPL): guidelines July 2021" src="_images/license-models.png" />
<figcaption>
<p><span class="caption-text">European Commission, Directorate-General for Informatics, Schmitz, P., European Union Public Licence (EUPL): guidelines July 2021, Publications Office, 2021, <a class="reference external" href="https://data.europa.eu/doi/10.2799/77160">https://data.europa.eu/doi/10.2799/77160</a></span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Comments:</p>
<ul class="simple">
<li><p>Arrows represent compatibility (A -&gt; B: B can reuse A)</p></li>
<li><p>Proprietary/custom: Derivative work typically not possible (no arrow goes from proprietary to open)</p></li>
<li><p>Permissive: Derivative work does not have to be shared</p></li>
<li><p>Copyleft/reciprocal: Derivative work must be made available under the same license terms</p></li>
<li><p>NC (non-commercial) and ND (non-derivative) exist for data licenses but not really for software licenses</p></li>
</ul>
<p><strong>Great resource for comparing software licenses</strong>: <a class="reference external" href="https://joinup.ec.europa.eu/collection/eupl/solution/joinup-licensing-assistant/jla-find-and-compare-software-licenses">Joinup Licensing Assistant</a></p>
<ul class="simple">
<li><p>Provides comments on licenses</p></li>
<li><p>Easy to compare licenses (<a class="reference external" href="https://joinup.ec.europa.eu/licence/compare/BSD-3-Clause;Apache-2.0">example</a>)</p></li>
<li><p><a class="reference external" href="https://joinup.ec.europa.eu/collection/eupl/solution/joinup-licensing-assistant/jla-compatibility-checker">Joinup Licensing Assistant - Compatibility Checker</a></p></li>
<li><p>Not biased by some company agenda</p></li>
</ul>
</section>
<section id="exercise-demo">
<h4>Exercise/demo<a class="headerlink" href="#exercise-demo" title="Link to this heading"></a></h4>
<div class="admonition-exercise exercise important admonition" id="exercise-0">
<p class="admonition-title">Exercise</p>
<ul class="simple">
<li><p>Let us choose a license for our example project.</p></li>
<li><p>We will add a LICENSE to the repository.</p></li>
</ul>
</div>
<div class="admonition-discussion discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion</p>
<ul class="simple">
<li><p>Our example code uses the libraries <code class="docutils literal notranslate"><span class="pre">scikit-image</span></code>, <code class="docutils literal notranslate"><span class="pre">scikit-learn</span></code>, <code class="docutils literal notranslate"><span class="pre">numpy</span></code>,
<code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>, and <code class="docutils literal notranslate"><span class="pre">pywavelets</span></code>. Do we need to look at their licenses? In other words, <strong>is
our project derivative work</strong> of something else?</p></li>
</ul>
</div>
</section>
<section id="more-resources">
<h4>More resources<a class="headerlink" href="#more-resources" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Presentation slides “Practical software licensing” (R. Bast): <a class="reference external" href="https://doi.org/10.5281/zenodo.11554001">https://doi.org/10.5281/zenodo.11554001</a></p></li>
<li><p><a class="reference external" href="https://coderefinery.github.io/social-coding/">Social coding lesson material</a></p></li>
<li><p><a class="reference external" href="https://research-software.uit.no/blog/2023-software-licensing-guide/">UiT research software licensing guide (draft)</a></p></li>
<li><p><a class="reference external" href="https://www.researchsoft.org/software-policies/">Research institution policies to support research software (compiled by the Research Software Alliance)</a></p></li>
<li><p>More <a class="reference external" href="https://coderefinery.github.io/social-coding/software-licensing/#great-resources">reading material</a></p></li>
</ul>
</section>
</section>
<span id="document-3/publishing"></span><section id="how-to-publish-your-code">
<span id="publishing-code"></span><h3>How to publish your code<a class="headerlink" href="#how-to-publish-your-code" title="Link to this heading"></a></h3>
<div class="admonition-objectives objectives admonition" id="objectives-0">
<p class="admonition-title">Objectives</p>
<ul class="simple">
<li><p>Make our code citable and persistent.</p></li>
<li><p>Make our Notebook reusable and persistent.</p></li>
</ul>
</div>
<section id="is-putting-software-on-github-gitlab-publishing">
<h4>Is putting software on GitHub/GitLab/… publishing?<a class="headerlink" href="#is-putting-software-on-github-gitlab-publishing" title="Link to this heading"></a></h4>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="_images/8-fair-principles.jpg"><img alt="FAIR principles" src="_images/8-fair-principles.jpg" style="width: 70%;" /></a>
<figcaption>
<p><span class="caption-text">FAIR principles. (c) <a class="reference external" href="http://www.scriberia.co.uk">Scriberia</a> for <a class="reference external" href="https://the-turing-way.netlify.com">The Turing Way</a>, CC-BY.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Is it enough to make the code public for the code to remain <strong>findable and accessible</strong>?</p>
<ul class="simple">
<li><p>No. Because nothing prevents me from deleting my GitHub repository or
rewriting the Git history and we have no guarantee that GitHub will still be around in 10 years.</p></li>
<li><p><strong>Make your code citable and persistent</strong>:
Get a persistent identifier (PID) such as DOI in addition to sharing the
code publicly, by using services like <a class="reference external" href="https://zenodo.org">Zenodo</a> or
similar services.</p></li>
</ul>
</section>
<section id="how-to-make-your-software-citable">
<h4>How to make your software citable<a class="headerlink" href="#how-to-make-your-software-citable" title="Link to this heading"></a></h4>
<div class="admonition-discussion-citation-1-explain-how-you-currently-cite-software discussion important admonition" id="discussion-0">
<p class="admonition-title">Discussion (Citation-1): Explain how you currently cite software</p>
<ul class="simple">
<li><p>Do you cite software that you use? How?</p></li>
<li><p>If I wanted to cite your code/scripts, what would I need to do?</p></li>
</ul>
</div>
<p><strong>Checklist for making a release of your software citable</strong>:</p>
<ul class="simple">
<li><p>Assigned an appropriate license</p></li>
<li><p>Described the software using an appropriate metadata format</p></li>
<li><p>Clear version number</p></li>
<li><p>Authors credited</p></li>
<li><p>Procured a persistent identifier</p></li>
<li><p>Added a recommended citation to the software documentation</p></li>
</ul>
<p>This checklist is adapted from: N. P. Chue Hong, A. Allen, A. Gonzalez-Beltran,
et al., Software Citation Checklist for Developers (Version 0.9.0). Zenodo.
2019b. (<a class="reference external" href="https://doi.org/10.5281/zenodo.3482769">DOI</a>)</p>
<p><strong>Our practical recommendations</strong>:</p>
<ul class="simple">
<li><p>Add a file called <a class="reference external" href="https://citation-file-format.github.io/">CITATION.cff</a> (<a class="reference external" href="https://github.com/bast/runtest/blob/main/CITATION.cff">example</a>).</p></li>
<li><p>Get a <a class="reference external" href="https://en.wikipedia.org/wiki/Digital_object_identifier">digital object identifier
(DOI)</a> for your code
on <a class="reference external" href="https://zenodo.org/">Zenodo</a> (<a class="reference external" href="https://zenodo.org/record/8003695">example</a>).</p></li>
<li><p>Make it as easy as possible: clearly say what you want cited.</p></li>
</ul>
<p>This is an example of a simple <code class="docutils literal notranslate"><span class="pre">CITATION.cff</span></code> file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">cff-version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.2.0</span>
<span class="nt">message</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;If</span><span class="nv"> </span><span class="s">you</span><span class="nv"> </span><span class="s">use</span><span class="nv"> </span><span class="s">this</span><span class="nv"> </span><span class="s">software,</span><span class="nv"> </span><span class="s">please</span><span class="nv"> </span><span class="s">cite</span><span class="nv"> </span><span class="s">it</span><span class="nv"> </span><span class="s">as</span><span class="nv"> </span><span class="s">below.&quot;</span>
<span class="nt">authors</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">family-names</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Doe</span>
<span class="w">    </span><span class="nt">given-names</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Jane</span>
<span class="w">    </span><span class="nt">orcid</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://orcid.org/1234-5678-9101-1121</span>
<span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;My</span><span class="nv"> </span><span class="s">Research</span><span class="nv"> </span><span class="s">Software&quot;</span>
<span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2.0.4</span>
<span class="nt">doi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.5281/zenodo.1234</span>
<span class="nt">date-released</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2021-08-11</span>
</pre></div>
</div>
<p>More about <code class="docutils literal notranslate"><span class="pre">CITATION.cff</span></code> files:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-citation-files">GitHub now supports CITATION.cff files</a></p></li>
<li><p><a class="reference external" href="https://citation-file-format.github.io/cff-initializer-javascript/">Web form to create, edit, and validate CITATION.cff files</a></p></li>
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=zcgLIT5Qd4M">Video: “How to create a CITATION.cff using cffinit”</a></p></li>
</ul>
</section>
<section id="papers-with-focus-on-scientific-software">
<h4>Papers with focus on scientific software<a class="headerlink" href="#papers-with-focus-on-scientific-software" title="Link to this heading"></a></h4>
<p>Where can I publish papers which are primarily focused on my scientific
software?  Great list/summary is provided in this blog post: <a class="reference external" href="https://www.software.ac.uk/top-tip/which-journals-should-i-publish-my-software">“In which
journals should I publish my software?” (Neil P. Chue
Hong)</a></p>
</section>
<section id="how-to-cite-software">
<h4>How to cite software<a class="headerlink" href="#how-to-cite-software" title="Link to this heading"></a></h4>
<div class="admonition-great-resources admonition">
<p class="admonition-title">Great resources</p>
<ul class="simple">
<li><p>A. M. Smith, D. S. Katz, K. E. Niemeyer, and FORCE11 Software Citation
Working Group, “Software citation principles,” PeerJ Comput. Sci., vol. 2,
no. e86, 2016 (<a class="reference external" href="https://doi.org/10.7717/peerj-cs.86">DOI</a>)</p></li>
<li><p>D. S. Katz, N. P. Chue Hong, T. Clark, et al., Recognizing the value of
software: a software citation guide [version 2; peer review: 2 approved].
F1000Research 2021, 9:1257 (<a class="reference external" href="https://doi.org/10.12688/f1000research.26932.2">DOI</a>)</p></li>
<li><p>N. P. Chue Hong, A. Allen, A. Gonzalez-Beltran, et al., Software Citation
Checklist for Authors (Version 0.9.0). Zenodo. 2019a. (<a class="reference external" href="https://doi.org/10.5281/zenodo.3479199">DOI</a>)</p></li>
<li><p>N. P. Chue Hong, A. Allen, A. Gonzalez-Beltran, et al., Software Citation
Checklist for Developers (Version 0.9.0). Zenodo. 2019b. (<a class="reference external" href="https://doi.org/10.5281/zenodo.3482769">DOI</a>)</p></li>
</ul>
</div>
<p>Recommended format for software citation is to ensure the following information
is provided as part of the reference (from <a class="reference external" href="https://doi.org/10.12688/f1000research.26932.2">Katz, Chue Hong, Clark,
2021</a> which also contains
software citation examples):</p>
<ul class="simple">
<li><p>Creator</p></li>
<li><p>Title</p></li>
<li><p>Publication venue</p></li>
<li><p>Date</p></li>
<li><p>Identifier</p></li>
<li><p>Version</p></li>
<li><p>Type</p></li>
</ul>
</section>
<section id="exercise-demo">
<h4>Exercise/demo<a class="headerlink" href="#exercise-demo" title="Link to this heading"></a></h4>
<div class="admonition-exercise exercise important admonition" id="exercise-0">
<p class="admonition-title">Exercise</p>
<ul class="simple">
<li><p>We will add a <code class="docutils literal notranslate"><span class="pre">CITATION.cff</span></code> file to our example repository.</p></li>
<li><p>We will get a DOI using the <a class="reference external" href="https://sandbox.zenodo.org">Zenodo sandbox</a>:</p>
<ul>
<li><p>We will log into the <a class="reference external" href="https://sandbox.zenodo.org">Zenodo sandbox</a> using
GitHub.</p></li>
<li><p>We will follow <a class="reference external" href="https://docs.github.com/en/repositories/archiving-a-github-repository/referencing-and-citing-content">these steps</a>
and finally create a GitHub release and get a DOI.</p></li>
</ul>
</li>
<li><p>We will use the <a class="reference external" href="https://github.com/coderefinery/imgfilters">Binder badge on our example repository</a> to run the Notebook
in the cloud and discuss how we could make it persistent and citable.</p></li>
</ul>
</div>
<div class="admonition-discussion discussion important admonition" id="discussion-1">
<p class="admonition-title">Discussion</p>
<ul class="simple">
<li><p>Why did we use the Zenodo sandbox and not the “real” Zenodo for our exercise?</p></li>
</ul>
</div>
</section>
<section id="more-resources">
<h4>More resources<a class="headerlink" href="#more-resources" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><a class="reference external" href="https://coderefinery.github.io/social-coding/software-citation/">Social coding lesson material</a></p></li>
<li><p><a class="reference external" href="https://coderefinery.github.io/jupyter/sharing/">Sharing Jupiter Notebooks</a></p></li>
</ul>
</section>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-guide"></span><section id="guide-for-instructors-and-contributors">
<h3>Guide for instructors and contributors<a class="headerlink" href="#guide-for-instructors-and-contributors" title="Link to this heading"></a></h3>
<section id="presentation-style">
<h4>Presentation style<a class="headerlink" href="#presentation-style" title="Link to this heading"></a></h4>
<p>When presenting the material we use the collaborative notes a lot and we use
the example repository to show the concepts in practice.</p>
<p>Code review is the central tool to introduce and discuss changes.</p>
<p>For any change we create a new branch and we encourage creating new branches.</p>
<p>The presenter can either work within the example repository or fork it.  We
encourage participants to fork the repository and work on their own fork.</p>
<p>We encourage participants to open issues and send pull requests but the course
assumes that some participants will only follow.</p>
</section>
<section id="preparation">
<h4>Preparation<a class="headerlink" href="#preparation" title="Link to this heading"></a></h4>
<p>Prepare a collaborative notes document which will be the central entry point.</p>
<p>Prepare the example repository. During the course the repository will receive
pull requests and merged and before the next course it may need to be reset to
the initial state (screenshot below).</p>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="_images/network.png"><img alt="Branch network of the example repository" src="_images/network.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-text">Branch network of the example repository before the course.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright CodeRefinery team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>